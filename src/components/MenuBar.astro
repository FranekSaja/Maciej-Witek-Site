---
// Pasek menu zintegrowany z kolekcją parts
import { getCollection } from 'astro:content';
import { join } from 'path-browserify';

const parts = await getCollection('parts');
const tabs = [
  { href: import.meta.env.BASE_URL, label: 'Start' },
  ...parts.map((entry) => ({
    href: join(import.meta.env.BASE_URL, entry.slug),
    label: entry.data.title
  }))
];
---
<nav aria-label="Główne menu" class="sticky top-0 z-10 border-b border-slate-200/60 bg-white/80 backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/80">
  <div class="mx-auto max-w-5xl px-4">
    <ul class="flex items-center gap-4 overflow-x-auto py-3">
      {tabs.map((t) => (
        <li>
          <a href={t.href} class="inline-flex items-center rounded px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 dark:text-slate-200 dark:hover:bg-slate-800">
            {t.label}
          </a>
        </li>
      ))}
    </ul>
  </div>
</nav>
